{"ast":null,"code":"var _jsxFileName = \"/Users/amantiwari/Desktop/geekboyAdmin/src/components/Content/textEditor.js\";\nimport React, { Component } from 'react';\nimport { EditorState, convertToRaw, convertFromRaw, ContentState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport debounce from 'lodash/debounce'; // import draftToHtml from 'draftjs-to-html';\n// import htmlToDraft from 'html-to-draftjs';\n\nclass MyEditor extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onEditorStateChange = editorState => {\n      const contentState = editorState.getCurrentContent();\n      console.log('content state', convertToRaw(contentState));\n      this.saveContent(contentState);\n      this.setState({\n        editorState\n      });\n    };\n\n    this.saveContent = debounce(content => {\n      window.localStorage.setItem('content', JSON.stringify(convertToRaw(content)));\n      fetch('/content', {\n        method: 'POST',\n        body: JSON.stringify({\n          content: convertToRaw(content)\n        }),\n        headers: new Headers({\n          'Content-Type': 'application/json'\n        })\n      });\n    }, 1000);\n    this.state = {\n      editorState: EditorState.createEmpty()\n    };\n\n    const _content = window.localStorage.getItem('content');\n\n    if (_content) {\n      this.state.editorState = EditorState.createWithContent(convertFromRaw(JSON.parse(_content)));\n    } else {\n      this.state.editorState = EditorState.createEmpty();\n    }\n  }\n\n  componentDidMount() {\n    fetch('/content').then(val => val.json()).then(rawContent => {\n      if (rawContent) {\n        this.setState({\n          editorState: EditorState.createWithContent(convertFromRaw(rawContent))\n        });\n      } else {\n        this.setState({\n          editorState: EditorState.createEmpty()\n        });\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(Editor, {\n      placeholder: \"PLEASE WRITE HERE\",\n      editorState: this.state.editorState,\n      wrapperClassName: \"wrapper-class\",\n      editorClassName: \"editor-class\",\n      toolbarClassName: \"toolbar-class\",\n      onEditorStateChange: this.onEditorStateChange,\n      toolbar: {\n        inline: {\n          inDropdown: true\n        },\n        list: {\n          inDropdown: true\n        },\n        textAlign: {\n          inDropdown: true\n        },\n        link: {\n          inDropdown: true\n        },\n        history: {\n          inDropdown: true\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default MyEditor;","map":{"version":3,"sources":["/Users/amantiwari/Desktop/geekboyAdmin/src/components/Content/textEditor.js"],"names":["React","Component","EditorState","convertToRaw","convertFromRaw","ContentState","Editor","debounce","MyEditor","constructor","props","onEditorStateChange","editorState","contentState","getCurrentContent","console","log","saveContent","setState","content","window","localStorage","setItem","JSON","stringify","fetch","method","body","headers","Headers","state","createEmpty","getItem","createWithContent","parse","componentDidMount","then","val","json","rawContent","render","inline","inDropdown","list","textAlign","link","history"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,YAAtB,EAAmCC,cAAnC,EAAmDC,YAAnD,QAAuE,UAAvE;AACA,SAASC,MAAT,QAAuB,qBAAvB;AACA,OAAO,kDAAP;AACA,OAAOC,QAAP,MAAqB,iBAArB,C,CACA;AACA;;AAKA,MAAMC,QAAN,SAAuBP,SAAvB,CAAiC;AAK/BQ,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAuBfC,mBAvBe,GAuBkBC,WAAD,IAAiB;AAC7C,YAAMC,YAAY,GAAGD,WAAW,CAACE,iBAAZ,EAArB;AACCC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6Bb,YAAY,CAACU,YAAD,CAAzC;AACE,WAAKI,WAAL,CAAiBJ,YAAjB;AACL,WAAKK,QAAL,CAAc;AACZN,QAAAA;AADY,OAAd;AAGD,KA9Bc;;AAAA,SAiCfK,WAjCe,GAiCDV,QAAQ,CAAEY,OAAD,IAAa;AAClCC,MAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,SAA5B,EAAuCC,IAAI,CAACC,SAAL,CAAerB,YAAY,CAACgB,OAAD,CAA3B,CAAvC;AAEAM,MAAAA,KAAK,CAAC,UAAD,EAAa;AACrBC,QAAAA,MAAM,EAAE,MADa;AAErBC,QAAAA,IAAI,EAAEJ,IAAI,CAACC,SAAL,CAAe;AACnBL,UAAAA,OAAO,EAAEhB,YAAY,CAACgB,OAAD;AADF,SAAf,CAFe;AAKrBS,QAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnB,0BAAgB;AADG,SAAZ;AALY,OAAb,CAAL;AAUN,KAb0B,EAaxB,IAbwB,CAjCP;AAGjB,SAAKC,KAAL,GAAa;AAEXlB,MAAAA,WAAW,EAAEV,WAAW,CAAC6B,WAAZ;AAFF,KAAb;;AAMA,UAAMZ,QAAO,GAAGC,MAAM,CAACC,YAAP,CAAoBW,OAApB,CAA4B,SAA5B,CAAhB;;AAEF,QAAIb,QAAJ,EAAa;AACX,WAAKW,KAAL,CAAWlB,WAAX,GAAyBV,WAAW,CAAC+B,iBAAZ,CAA8B7B,cAAc,CAACmB,IAAI,CAACW,KAAL,CAAWf,QAAX,CAAD,CAA5C,CAAzB;AACD,KAFD,MAEO;AACL,WAAKW,KAAL,CAAWlB,WAAX,GAAyBV,WAAW,CAAC6B,WAAZ,EAAzB;AACD;AAEA;;AAgCFI,EAAAA,iBAAiB,GAAG;AAChBV,IAAAA,KAAK,CAAC,UAAD,CAAL,CAAkBW,IAAlB,CAAuBC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAA9B,EACCF,IADD,CACMG,UAAU,IAAI;AAClB,UAAIA,UAAJ,EAAgB;AACd,aAAKrB,QAAL,CAAc;AAAEN,UAAAA,WAAW,EAAEV,WAAW,CAAC+B,iBAAZ,CAA8B7B,cAAc,CAACmC,UAAD,CAA5C;AAAf,SAAd;AACD,OAFD,MAEO;AACL,aAAKrB,QAAL,CAAc;AAAEN,UAAAA,WAAW,EAAEV,WAAW,CAAC6B,WAAZ;AAAf,SAAd;AACD;AACF,KAPD;AAQD;;AAEES,EAAAA,MAAM,GAAG;AAGJ,WACE,oBAAC,MAAD;AACA,MAAA,WAAW,EAAC,mBADZ;AAEE,MAAA,WAAW,EAAE,KAAKV,KAAL,CAAWlB,WAF1B;AAIG,MAAA,gBAAgB,EAAC,eAJpB;AAKG,MAAA,eAAe,EAAC,cALnB;AAMG,MAAA,gBAAgB,EAAC,eANpB;AAOG,MAAA,mBAAmB,EAAE,KAAKD,mBAP7B;AAUE,MAAA,OAAO,EAAE;AACN8B,QAAAA,MAAM,EAAE;AAAEC,UAAAA,UAAU,EAAE;AAAd,SADF;AAENC,QAAAA,IAAI,EAAE;AAAED,UAAAA,UAAU,EAAE;AAAd,SAFA;AAGNE,QAAAA,SAAS,EAAE;AAAEF,UAAAA,UAAU,EAAE;AAAd,SAHL;AAING,QAAAA,IAAI,EAAE;AAAEH,UAAAA,UAAU,EAAE;AAAd,SAJA;AAKNI,QAAAA,OAAO,EAAE;AAAEJ,UAAAA,UAAU,EAAE;AAAd;AALH,OAVX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAoBJ;;AAxF0B;;AA4FjC,eAAelC,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport { EditorState, convertToRaw,convertFromRaw, ContentState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport debounce from 'lodash/debounce';\n// import draftToHtml from 'draftjs-to-html';\n// import htmlToDraft from 'html-to-draftjs';\n\n\n\n\nclass MyEditor extends Component {\n\n\n\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n      editorState: EditorState.createEmpty(),\n\n    }\n\n    const content = window.localStorage.getItem('content');\n\n  if (content) {\n    this.state.editorState = EditorState.createWithContent(convertFromRaw(JSON.parse(content)));\n  } else {\n    this.state.editorState = EditorState.createEmpty();\n  }\n\n  }\n\n\n\n\n\n      onEditorStateChange: Function = (editorState) => {\n          const contentState = editorState.getCurrentContent();\n           console.log('content state', convertToRaw(contentState));\n             this.saveContent(contentState);\n        this.setState({\n          editorState,\n        });\n      };\n\n\n      saveContent = debounce((content) => {\n        window.localStorage.setItem('content', JSON.stringify(convertToRaw(content)));\n\n        fetch('/content', {\n     method: 'POST',\n     body: JSON.stringify({\n       content: convertToRaw(content),\n     }),\n     headers: new Headers({\n       'Content-Type': 'application/json'\n     })\n   })\n\n }, 1000)\n\n\n componentDidMount() {\n     fetch('/content').then(val => val.json())\n     .then(rawContent => {\n       if (rawContent) {\n         this.setState({ editorState: EditorState.createWithContent(convertFromRaw(rawContent)) })\n       } else {\n         this.setState({ editorState: EditorState.createEmpty() });\n       }\n     });\n   }\n\n      render() {\n\n\n           return (\n             <Editor\n             placeholder='PLEASE WRITE HERE'\n               editorState={this.state.editorState}\n                \n                wrapperClassName=\"wrapper-class\"\n                editorClassName=\"editor-class\"\n                toolbarClassName=\"toolbar-class\"\n                onEditorStateChange={this.onEditorStateChange}\n\n\n               toolbar={{\n                  inline: { inDropdown: true },\n                  list: { inDropdown: true },\n                  textAlign: { inDropdown: true },\n                  link: { inDropdown: true },\n                  history: { inDropdown: true }\n               }}\n             />\n           )\n      }\n\n\n}\nexport default MyEditor;\n"]},"metadata":{},"sourceType":"module"}